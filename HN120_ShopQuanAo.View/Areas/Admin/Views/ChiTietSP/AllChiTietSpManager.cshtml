﻿@using HN120_ShopQuanAo.Data.Models;
@model IEnumerable<HN120_ShopQuanAo.Data.Models.ChiTietSp>

@{
    ViewData["Title"] = "AllChiTietSpManager";
    Layout = "~/Areas/Admin/Views/Shared/_LayoutAdmin.cshtml";
    List<Size> lstSZ = ViewBag.lstSZ as List<Size>;
    List<MauSac> lstms = ViewBag.lstms as List<MauSac>;
    List<KhuyenMai> lstkm = ViewBag.lstkm as List<KhuyenMai>;
}

<h1></h1>

<p>

    <a class="btn btn-primary"asp-controller="SanPham" asp-action="AllSanPhamManager">Danh Sách Sản Phẩm</a>

</p>
<table class="table">
    <thead>
        <tr>
            <th>
                STT
            </th>

            <th>
              Size
            </th>
            <th>
               Màu
            </th>
            <th>
                Khuyến mại
                </th>
                <th>
               chất liệu
            </th>
            <th>
                ảnh
                </th>
            <th>
               giá bán 
            </th>
            <th>
                Số Lượng
            </th>
            <th>
               Trạng Thái 
            </th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        @{

            int i = 1;
        }
        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @i
                </td>
                <td>
                    @{
                        var size = lstSZ.FirstOrDefault(th => th.MaSize == item.MaSize)?.TenSize ?? "N/A";
                    }
                    @size
                </td>
                <td>
                    @{
                        var mau = lstms.FirstOrDefault(th => th.MaMau == item.MaMau)?.TenMau ?? "N/A";
                    }
                    @mau
                </td>
                <td>
                    @{
                        var khuyenmai = lstkm.FirstOrDefault(th => th.MaKhuyenMai == item.MaKhuyenMai)?.TenKhuyenMai ?? "N/A";
                    }
                    @khuyenmai
                </td>
                <td >
                         <img src="~/photoSanPhamCT/@item.UrlAnhSpct" alt="Combo Image" width="100" height="100" />
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.DonGia)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.GiaBan)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.SoLuongTon)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.TrangThai)
                </td>
                    <td style="text-align : center; margin-bottom : 20px">
                                        <a asp-action="ChiTietSpDetail" asp-controller="ChiTietSP" asp-area="Admin" class="btn btn-primary" asp-route-id="@item.SKU">Chi Tiết</a>
                                            <a asp-action="UpdateChiTietSp" asp-controller="ChiTietSP" asp-area="Admin" class="btn btn-primary" asp-route-id="@item.SKU">Sửa</a>    

                        </td>
            </tr>
            i++;
        }
    </tbody>
</table>
